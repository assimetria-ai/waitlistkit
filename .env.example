# ── Core ─────────────────────────────────────────────────────────────────────
NODE_ENV=development
PORT=4000

# ── Database ──────────────────────────────────────────────────────────────────
# PostgreSQL connection string — copy from your Neon / Railway / Supabase dashboard
DATABASE_URL=postgresql://user:password@localhost:5432/myapp_dev

# ── Redis ─────────────────────────────────────────────────────────────────────
# Used for session blacklisting (logout). App degrades gracefully when unavailable.
REDIS_URL=redis://localhost:6379

# ── Auth ──────────────────────────────────────────────────────────────────────
# Must be at least 32 characters. Generate with: openssl rand -hex 32
JWT_SECRET=replace-me-with-a-32-char-minimum-secret

# ── App URLs ──────────────────────────────────────────────────────────────────
APP_URL=http://localhost:5173

# ── Stripe ────────────────────────────────────────────────────────────────────
# Leave blank to disable payment features. Get keys from https://dashboard.stripe.com
# Secret key — server-side only, never expose to the browser.
STRIPE_SECRET_KEY=sk_test_...
# Webhook signing secret — from Stripe Dashboard > Developers > Webhooks.
STRIPE_WEBHOOK_SECRET=whsec_...
# Publishable key — also set as VITE_STRIPE_PUBLISHABLE_KEY in client/.env
# (same value, different prefix so Vite exposes it to the browser).
STRIPE_PUBLISHABLE_KEY=pk_test_...

# ── AWS / SES (email) ─────────────────────────────────────────────────────────
# Used for transactional email (password reset, welcome, etc.)
# Leave blank to disable email sending (reset URLs will appear in server logs only)
AWS_REGION=eu-west-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
SES_FROM_EMAIL=noreply@yourdomain.com

# ── Observability ─────────────────────────────────────────────────────────────
LOG_LEVEL=info
SERVICE_NAME=server
# ERROR_TRACKING_DSN=https://xxx@sentry.io/yyy

# ── Storage Adapter ───────────────────────────────────────────────────────────
# STORAGE_PROVIDER=s3|r2|local (default: s3 if AWS creds configured, else local)
STORAGE_PROVIDER=local
LOCAL_STORAGE_DIR=./uploads

# Cloudflare R2 (S3-compatible, zero egress cost)
# R2_ACCOUNT_ID=
# R2_ACCESS_KEY_ID=
# R2_SECRET_ACCESS_KEY=
# R2_BUCKET=
# R2_PUBLIC_URL=https://pub-xxx.r2.dev

# ── Notifications Adapter ─────────────────────────────────────────────────────
# NOTIFICATION_PROVIDER=slack|discord|console (default: auto-detect)
# Slack
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/yyy/zzz
# SLACK_CHANNEL=#alerts
# Discord
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/xxx/yyy

# ── SMS Adapter ───────────────────────────────────────────────────────────────
# SMS_PROVIDER=twilio|vonage|console (default: auto-detect)
# Twilio
# TWILIO_ACCOUNT_SID=ACxxx
# TWILIO_AUTH_TOKEN=xxx
# TWILIO_FROM=+15551234567
# Vonage
# VONAGE_API_KEY=
# VONAGE_API_SECRET=
# VONAGE_FROM=
